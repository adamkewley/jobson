

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>How It Works &mdash; jobson-docs 1.0.7 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Install" href="install.html" />
    <link rel="prev" title="Jobson" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> jobson-docs
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">How It Works</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#configuration-job-specs">Configuration: Job specs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#execution-subprocesses">Execution: Subprocesses</a></li>
<li class="toctree-l2"><a class="reference internal" href="#client-interaction-http-websockets">Client Interaction: HTTP/Websockets</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="install.html#inheriting-the-jobson-docker-image">Inheriting the <code class="docutils literal notranslate"><span class="pre">jobson</span></code> Docker Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="commandline.html">Command-Line Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="server-configuration.html">Server Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="workspaces.html">Workspaces</a></li>
<li class="toctree-l1"><a class="reference internal" href="specs.html">Job Specs</a></li>
<li class="toctree-l1"><a class="reference external" href="apidocs/index.html#://">HTTP API</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui.html">User Interface (Jobson UI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="build.html">Developer’s Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">jobson-docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>How It Works</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/how-it-works.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="how-it-works">
<h1>How It Works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h1>
<img alt="_images/architecture.svg" src="_images/architecture.svg" /><p>Jobson’s architecture separates configuration, execution, and client
interaction into three distinct APIs.</p>
<div class="section" id="configuration-job-specs">
<h2>Configuration: Job specs<a class="headerlink" href="#configuration-job-specs" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="specs.html">Job specs</a> are configured by admins and contain
details about an application that Jobson should host. An example job
spec would be:</p>
<div class="highlight-yaml notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="nn">---</span>

<span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Example Job Spec</span>

<span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">A job that echoes the provided first name</span>

<span class="nt">expectedInputs</span><span class="p">:</span>

<span class="p p-Indicator">-</span> <span class="nt">id</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">firstName</span>
  <span class="nt">type</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">string</span>
  <span class="nt">name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">First Name</span>
  <span class="nt">description</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Your first name</span>
  <span class="nt">default</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">Jeff</span>

<span class="nt">execution</span><span class="p">:</span>

  <span class="nt">application</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">echo</span>
  <span class="nt">arguments</span><span class="p">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">${inputs.firstName}</span>
</pre></div>
</td></tr></table></div>
<p>These configuration files are used by Jobson to automatically:</p>
<ul class="simple">
<li><p>Generate a HTTP/websocket API for the job</p></li>
<li><p>Validate requests to run the job (correct inputs, etc.)</p></li>
<li><p>Execute the job as a subprocess</p></li>
<li><p>Persist the job’s output.</p></li>
</ul>
</div>
<div class="section" id="execution-subprocesses">
<h2>Execution: Subprocesses<a class="headerlink" href="#execution-subprocesses" title="Permalink to this headline">¶</a></h2>
<p>At runtime, Jobson uses the information contained in <a class="reference external" href="specs.html">job specs</a> to <a class="reference external" href="http://man7.org/linux/man-pages/man2/fork.2.html">fork</a> a child process
on the host operating system. This means that, to Jobson, execution is
a black box that:</p>
<ul class="simple">
<li><p>Is launched by the host operating system with command-line arguments
and dependencies (files, scripts, etc.)</p></li>
<li><p>Runs for an undetermined amount of time, perhaps producing
continuous outputs via pipes (e.g. <code class="docutils literal notranslate"><span class="pre">stdout</span></code>, <code class="docutils literal notranslate"><span class="pre">stderr</span></code>)</p></li>
<li><p>Exits with an exit code</p></li>
<li><p>Produces files as a side-effect</p></li>
</ul>
</div>
<div class="section" id="client-interaction-http-websockets">
<h2>Client Interaction: HTTP/Websockets<a class="headerlink" href="#client-interaction-http-websockets" title="Permalink to this headline">¶</a></h2>
<p>At runtime, Jobson uses the information contained in <a class="reference external" href="specs.html">job specs</a> to generate a standard HTTP/websocket API that clients
use.</p>
<p>Features of the API:</p>
<ul class="simple">
<li><p>Jobson requires clients to provide the correct information (job
inputs, logins, etc.) via the API, which shields the underlying
applications from receiving bogus inputs</p></li>
<li><p>Jobson’s execution approach (above) directly uses process forking so
clients cannot, for example, use shell injection attacks (there is
no shell)</p></li>
<li><p>The API is declarative and structured, which enables clients to
automatically generate inputs for job specs, which is what <a class="reference external" href="ui.html">the UI</a> does.</p></li>
</ul>
<p>With this approach, Jobson is able to shield clients from the
configuration and execution layers of the application and ensure that
the underlying applications receive correct inputs. This means that
the underlying application can radically change without breaking
downstream users - provided the <code class="docutils literal notranslate"><span class="pre">expectedInputs</span></code> exposed to the
client remain the same.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="install.html" class="btn btn-neutral float-right" title="Install" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Jobson" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Adam Kewley

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>